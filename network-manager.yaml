# https://github.com/flathub/org.gnome.NetworkDisplays/blob/5a3369d04e32ccd092e42463de5171f473a8601d/org.gnome.NetworkDisplays.json#LL177C11-L230C11
name: NetworkManager
buildsystem: meson
build-options:
  cflags: -ltinfo
  cxxflags: -ltinfo
config-opts:
  - -Dsystemdsystemunitdir=no
  - -Ddbus_conf_dir=/app/etc/dbus-1/system.d
  - -Diptables=/usr/bin/true
  - -Ddnsmasq=/usr/bin/true
  - -Dsession_tracking=no
  - -Dselinux=false
  - -Dsystemd_journal=false
  - -Dlibaudit=no
  - -Dwext=false
  - -Dwifi=false
  - -Dppp=false
  - -Dmodem_manager=false
  - -Dovs=false
  - -Dnmcli=false
  - -Dnmtui=false
  - -Dintrospection=true
  - -Dvapi=false
  - -Ddocs=false
  - -Dtests=no
  - -Dfirewalld_zone=false
  - -Dlibpsl=false
  - -Dqt=false
cleanup:
  - /sbin
  - /etc
  - /include
  - /lib/pkgconfig
  - /libexec
  - /var
  - /share/bash-completion
  - /share/doc
sources:
  - type: git
    url: https://gitlab.freedesktop.org/NetworkManager/NetworkManager.git
    commit: 2db3748ec8162ce948ba52f71b42a258ff8d64ba
    tag: 1.40.18
